{"version":3,"sources":["webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue?14c5","webpack:///src/wc-libs/yl-ui/scroll/scroll.vue","webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue?39c2","webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","staticRenderFns","scrollvue_type_script_lang_js_shadow","name","[object Object]","$nextTick","setTimeout","initParams","methods","target","$attrs","trim","scrollEl","document","querySelector","eventDom","scrollingElement","window","contentH","clientHeight","scrollHight","scrollHeight","flagNum","flag","setInterval","$emit","scrollTop","isBottom","clearInterval","addEventListener","Math","ceil","console","warn","scroll_scrollvue_type_script_lang_js_shadow","injectStyles","context","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"kGAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAwB,CAAAN,EAAAO,GAAA,gBAClIC,EAAA,GCKAC,EAAA,CACAC,KAAA,WACAC,OACA,UAEAA,UACAV,KAAAW,UAAA,KACAC,WAAA,KACAZ,KAAAa,cACA,QAGAC,QAAA,CACAJ,aACA,IAAAK,EAAAf,KAAAgB,OAAA,UACA,GAAAD,EAAA,CACAA,IAAAE,OACAjB,KAAAkB,SAAAC,SAAAC,cAAAL,GACAf,KAAAqB,SAAArB,KAAAkB,SACA,SAAAH,GAAA,SAAAA,IACAf,KAAAkB,SAAAC,SAAAG,iBACAtB,KAAAqB,SAAAE,QAEA,IAAAC,EAAAxB,KAAAkB,SAAAO,aACAC,EAAA1B,KAAAkB,SAAAS,aAEAC,EAAA,EACAC,EAAAC,YAAA,KACAJ,EAAA1B,KAAAkB,SAAAS,aACAH,GAAAE,GAAAE,GAAA,GACA5B,KAAA+B,MAAA,UACAC,UAAA,EACAC,UAAA,IAEAL,MAEAA,EAAA,EACAM,cAAAL,KAEA,GAGA7B,KAAAqB,SAAAc,iBAAA,cACAX,EAAAxB,KAAAkB,SAAAO,aACAC,EAAA1B,KAAAkB,SAAAS,aACA,IAAAK,EAAAhC,KAAAkB,SAAAc,UAEAI,KAAAC,KAAAb,EAAAQ,IAAAN,EACA1B,KAAA+B,MAAA,UACAC,YACAC,UAAA,IAGAjC,KAAA+B,MAAA,UACAC,YACAC,UAAA,WAKAK,QAAAC,KAAA,6BClEoXC,EAAA,cCGpX,SAAAC,EAAAC,IAOA,IAAAC,EAAgBC,OAAAC,EAAA,KAAAD,CACdJ,EACA1C,EACAS,GACF,EACAkC,EACA,WACA,MACA,GAGAE,EAAAG,QAAAC,OAAA,aACeC,EAAA,WAAAL","file":"yl.5.min.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yl-scroll\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"yl-scroll\">\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tname: \"YlScroll\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.initParams();\r\n\t\t\t}, 300);\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tinitParams() {\r\n\t\t\tlet target = this.$attrs[\"target\"];\r\n\t\t\tif (target) {\r\n\t\t\t\ttarget = target.trim();\r\n\t\t\t\tthis.scrollEl = document.querySelector(target);\r\n\t\t\t\tthis.eventDom = this.scrollEl;\r\n\t\t\t\tif (target === \"body\" || target === \"html\") {\r\n\t\t\t\t\tthis.scrollEl = document.scrollingElement;\r\n\t\t\t\t\tthis.eventDom = window;\r\n\t\t\t\t}\r\n\t\t\t\tlet contentH = this.scrollEl.clientHeight;\r\n\t\t\t\tvar scrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t// console.log(contentH, scrollHight);\r\n\t\t\t\tlet flagNum = 0; // 防止程序陷入死循环\r\n\t\t\t\tvar flag = setInterval(() => {\r\n\t\t\t\t\tscrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t\tif (contentH >= scrollHight && flagNum <= 5) {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\t\t\tisBottom: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tflagNum++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tflagNum = 0;\r\n\t\t\t\t\t\tclearInterval(flag);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1);\r\n\r\n\t\t\t\t// console.log(this.scrollEl, contentH, scrollHight);\r\n\t\t\t\tthis.eventDom.addEventListener(\"scroll\", () => {\r\n\t\t\t\t\tcontentH = this.scrollEl.clientHeight;\r\n\t\t\t\t\tscrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t\tlet scrollTop = this.scrollEl.scrollTop;\r\n\t\t\t\t\t// console.log(Math.ceil(contentH + scrollTop), scrollHight);\r\n\t\t\t\t\tif (Math.ceil(contentH + scrollTop) >= scrollHight) {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: scrollTop,\r\n\t\t\t\t\t\t\tisBottom: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: scrollTop,\r\n\t\t\t\t\t\t\tisBottom: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"not find scroll target\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&shadow\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&shadow\"","import { render, staticRenderFns } from \"./scroll.vue?vue&type=template&id=0f81e779&scoped=true&shadow\"\nimport script from \"./scroll.vue?vue&type=script&lang=js&shadow\"\nexport * from \"./scroll.vue?vue&type=script&lang=js&shadow\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"0f81e779\",\n  null\n  ,true\n)\n\ncomponent.options.__file = \"scroll.vue\"\nexport default component.exports"],"sourceRoot":""}