{"version":3,"sources":["webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue?14c5","webpack:///src/wc-libs/yl-ui/scroll/scroll.vue","webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue?39c2","webpack:///./src/wc-libs/yl-ui/scroll/scroll.vue"],"names":[],"mappings":";;;;;;;;;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,wBAAwB;AAClI;;;;;;;;;;;ACKA;AACA,kBADA;;AAEA;AACA;AACA,GAJA;;AAKA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAJA;AAKA,GAXA;;AAYA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,qDATA,CAUA;;AACA,wBAXA,CAWA;;AACA;AACA;;AACA;AACA;AACA,0BADA;AAEA;AAFA;AAIA;AACA,WANA,MAMA;AACA;AACA;AACA;AACA,SAZA,EAYA,CAZA,EAZA,CA0BA;;AACA;AACA;AACA;AACA,kDAHA,CAIA;;AACA;AACA;AACA,kCADA;AAEA;AAFA;AAIA,WALA,MAKA;AACA;AACA,kCADA;AAEA;AAFA;AAIA;AACA,SAhBA;AAiBA,OA5CA,MA4CA;AACA;AACA;AACA;;AAlDA;AAZA,G;;ACNoW,CAAgB,oHAAG,EAAC,C;;;;;ACAjR;AACvC;AACL;AAC3D;;;AAGA;;AAEA;AACgG;AAChG,gBAAgB,8CAAU;AAC1B,EAAE,2CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,mG","file":"yl.5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yl-scroll\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"yl-scroll\">\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tname: \"YlScroll\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.initParams();\r\n\t\t\t}, 300);\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tinitParams() {\r\n\t\t\tlet target = this.$attrs[\"target\"];\r\n\t\t\tif (target) {\r\n\t\t\t\ttarget = target.trim();\r\n\t\t\t\tthis.scrollEl = document.querySelector(target);\r\n\t\t\t\tthis.eventDom = this.scrollEl;\r\n\t\t\t\tif (target === \"body\" || target === \"html\") {\r\n\t\t\t\t\tthis.scrollEl = document.scrollingElement;\r\n\t\t\t\t\tthis.eventDom = window;\r\n\t\t\t\t}\r\n\t\t\t\tlet contentH = this.scrollEl.clientHeight;\r\n\t\t\t\tvar scrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t// console.log(contentH, scrollHight);\r\n\t\t\t\tlet flagNum = 0; // 防止程序陷入死循环\r\n\t\t\t\tvar flag = setInterval(() => {\r\n\t\t\t\t\tscrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t\tif (contentH >= scrollHight && flagNum <= 5) {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\t\t\tisBottom: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tflagNum++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tflagNum = 0;\r\n\t\t\t\t\t\tclearInterval(flag);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1);\r\n\r\n\t\t\t\t// console.log(this.scrollEl, contentH, scrollHight);\r\n\t\t\t\tthis.eventDom.addEventListener(\"scroll\", () => {\r\n\t\t\t\t\tcontentH = this.scrollEl.clientHeight;\r\n\t\t\t\t\tscrollHight = this.scrollEl.scrollHeight;\r\n\t\t\t\t\tlet scrollTop = this.scrollEl.scrollTop;\r\n\t\t\t\t\t// console.log(Math.ceil(contentH + scrollTop), scrollHight);\r\n\t\t\t\t\tif (Math.ceil(contentH + scrollTop) >= scrollHight) {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: scrollTop,\r\n\t\t\t\t\t\t\tisBottom: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$emit(\"scroll\", {\r\n\t\t\t\t\t\t\tscrollTop: scrollTop,\r\n\t\t\t\t\t\t\tisBottom: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"not find scroll target\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&shadow\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&shadow\"","import { render, staticRenderFns } from \"./scroll.vue?vue&type=template&id=0f81e779&scoped=true&shadow\"\nimport script from \"./scroll.vue?vue&type=script&lang=js&shadow\"\nexport * from \"./scroll.vue?vue&type=script&lang=js&shadow\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"0f81e779\",\n  null\n  ,true\n)\n\ncomponent.options.__file = \"scroll.vue\"\nexport default component.exports"],"sourceRoot":""}